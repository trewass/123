"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/media/images/route";
exports.ids = ["app/api/media/images/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmedia%2Fimages%2Froute&page=%2Fapi%2Fmedia%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmedia%2Fimages%2Froute.ts&appDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmedia%2Fimages%2Froute&page=%2Fapi%2Fmedia%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmedia%2Fimages%2Froute.ts&appDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_xxx_Documents_proekt2_app_api_media_images_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/media/images/route.ts */ \"(rsc)/./app/api/media/images/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/media/images/route\",\n        pathname: \"/api/media/images\",\n        filename: \"route\",\n        bundlePath: \"app/api/media/images/route\"\n    },\n    resolvedPagePath: \"/Users/xxx/Documents/Еуср-proekt2/app/api/media/images/route.ts\",\n    nextConfigOutput,\n    userland: _Users_xxx_Documents_proekt2_app_api_media_images_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/media/images/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtZWRpYSUyRmltYWdlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWVkaWElMkZpbWFnZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtZWRpYSUyRmltYWdlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnh4eCUyRkRvY3VtZW50cyUyRiVEMCU5NSVEMSU4MyVEMSU4MSVEMSU4MC1wcm9la3QyJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnh4eCUyRkRvY3VtZW50cyUyRiVEMCU5NSVEMSU4MyVEMSU4MSVEMSU4MC1wcm9la3QyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2U7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZWNocHJvZWt0LXNpdGUvP2VlMmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3h4eC9Eb2N1bWVudHMv0JXRg9GB0YAtcHJvZWt0Mi9hcHAvYXBpL21lZGlhL2ltYWdlcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWVkaWEvaW1hZ2VzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWVkaWEvaW1hZ2VzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tZWRpYS9pbWFnZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMveHh4L0RvY3VtZW50cy/QldGD0YHRgC1wcm9la3QyL2FwcC9hcGkvbWVkaWEvaW1hZ2VzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21lZGlhL2ltYWdlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmedia%2Fimages%2Froute&page=%2Fapi%2Fmedia%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmedia%2Fimages%2Froute.ts&appDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/media/images/route.ts":
/*!***************************************!*\
  !*** ./app/api/media/images/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_media__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/media */ \"(rsc)/./lib/media.ts\");\n\n\nasync function GET() {\n    try {\n        const images = (0,_lib_media__WEBPACK_IMPORTED_MODULE_1__.getImageFiles)(\"public/images\");\n        // Фильтруем только реальные изображения (убираем placeholder.txt и .DS_Store)\n        const validImages = images.filter((img)=>!img.name.includes(\"placeholder\") && !img.name.includes(\".DS_Store\") && (img.name.endsWith(\".jpg\") || img.name.endsWith(\".jpeg\") || img.name.endsWith(\".png\") || img.name.endsWith(\".webp\")));\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            images: validImages.map((img)=>({\n                    ...img,\n                    webPath: `/images/${img.name}`,\n                    thumbnail: `/images/${img.name}`\n                }))\n        });\n    } catch (error) {\n        console.error(\"Error getting images:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Ошибка при получении изображений\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL21lZGlhL2ltYWdlcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7QUFDQztBQUVwQyxlQUFlRTtJQUNwQixJQUFJO1FBQ0YsTUFBTUMsU0FBU0YseURBQWFBLENBQUM7UUFFN0IsOEVBQThFO1FBQzlFLE1BQU1HLGNBQWNELE9BQU9FLE1BQU0sQ0FBQ0MsQ0FBQUEsTUFDaEMsQ0FBQ0EsSUFBSUMsSUFBSSxDQUFDQyxRQUFRLENBQUMsa0JBQ25CLENBQUNGLElBQUlDLElBQUksQ0FBQ0MsUUFBUSxDQUFDLGdCQUNsQkYsQ0FBQUEsSUFBSUMsSUFBSSxDQUFDRSxRQUFRLENBQUMsV0FBV0gsSUFBSUMsSUFBSSxDQUFDRSxRQUFRLENBQUMsWUFBWUgsSUFBSUMsSUFBSSxDQUFDRSxRQUFRLENBQUMsV0FBV0gsSUFBSUMsSUFBSSxDQUFDRSxRQUFRLENBQUMsUUFBTztRQUdwSCxPQUFPVCxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RSLFFBQVFDLFlBQVlRLEdBQUcsQ0FBQ04sQ0FBQUEsTUFBUTtvQkFDOUIsR0FBR0EsR0FBRztvQkFDTk8sU0FBUyxDQUFDLFFBQVEsRUFBRVAsSUFBSUMsSUFBSSxDQUFDLENBQUM7b0JBQzlCTyxXQUFXLENBQUMsUUFBUSxFQUFFUixJQUFJQyxJQUFJLENBQUMsQ0FBQztnQkFDbEM7UUFDRjtJQUNGLEVBQUUsT0FBT1EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPZixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFSyxPQUFPO1FBQW1DLEdBQzVDO1lBQUVFLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVjaHByb2VrdC1zaXRlLy4vYXBwL2FwaS9tZWRpYS9pbWFnZXMvcm91dGUudHM/NGZmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldEltYWdlRmlsZXMgfSBmcm9tICdAL2xpYi9tZWRpYSdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpbWFnZXMgPSBnZXRJbWFnZUZpbGVzKCdwdWJsaWMvaW1hZ2VzJylcbiAgICBcbiAgICAvLyDQpNC40LvRjNGC0YDRg9C10Lwg0YLQvtC70YzQutC+INGA0LXQsNC70YzQvdGL0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyAo0YPQsdC40YDQsNC10LwgcGxhY2Vob2xkZXIudHh0INC4IC5EU19TdG9yZSlcbiAgICBjb25zdCB2YWxpZEltYWdlcyA9IGltYWdlcy5maWx0ZXIoaW1nID0+IFxuICAgICAgIWltZy5uYW1lLmluY2x1ZGVzKCdwbGFjZWhvbGRlcicpICYmIFxuICAgICAgIWltZy5uYW1lLmluY2x1ZGVzKCcuRFNfU3RvcmUnKSAmJlxuICAgICAgKGltZy5uYW1lLmVuZHNXaXRoKCcuanBnJykgfHwgaW1nLm5hbWUuZW5kc1dpdGgoJy5qcGVnJykgfHwgaW1nLm5hbWUuZW5kc1dpdGgoJy5wbmcnKSB8fCBpbWcubmFtZS5lbmRzV2l0aCgnLndlYnAnKSlcbiAgICApXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGltYWdlczogdmFsaWRJbWFnZXMubWFwKGltZyA9PiAoe1xuICAgICAgICAuLi5pbWcsXG4gICAgICAgIHdlYlBhdGg6IGAvaW1hZ2VzLyR7aW1nLm5hbWV9YCxcbiAgICAgICAgdGh1bWJuYWlsOiBgL2ltYWdlcy8ke2ltZy5uYW1lfWBcbiAgICAgIH0pKVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbWFnZXM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC40LfQvtCx0YDQsNC20LXQvdC40LknIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldEltYWdlRmlsZXMiLCJHRVQiLCJpbWFnZXMiLCJ2YWxpZEltYWdlcyIsImZpbHRlciIsImltZyIsIm5hbWUiLCJpbmNsdWRlcyIsImVuZHNXaXRoIiwianNvbiIsInN1Y2Nlc3MiLCJtYXAiLCJ3ZWJQYXRoIiwidGh1bWJuYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/media/images/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/media.ts":
/*!**********************!*\
  !*** ./lib/media.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUPPORTED_DOCUMENT_FORMATS: () => (/* binding */ SUPPORTED_DOCUMENT_FORMATS),\n/* harmony export */   SUPPORTED_IMAGE_FORMATS: () => (/* binding */ SUPPORTED_IMAGE_FORMATS),\n/* harmony export */   SUPPORTED_VIDEO_FORMATS: () => (/* binding */ SUPPORTED_VIDEO_FORMATS),\n/* harmony export */   ensureDirectoryExists: () => (/* binding */ ensureDirectoryExists),\n/* harmony export */   fileExists: () => (/* binding */ fileExists),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getDocumentFiles: () => (/* binding */ getDocumentFiles),\n/* harmony export */   getFileInfo: () => (/* binding */ getFileInfo),\n/* harmony export */   getImageFiles: () => (/* binding */ getImageFiles),\n/* harmony export */   getMimeType: () => (/* binding */ getMimeType),\n/* harmony export */   getVideoFiles: () => (/* binding */ getVideoFiles),\n/* harmony export */   getWebPath: () => (/* binding */ getWebPath),\n/* harmony export */   validateDocumentFile: () => (/* binding */ validateDocumentFile),\n/* harmony export */   validateImageFile: () => (/* binding */ validateImageFile),\n/* harmony export */   validateMediaFile: () => (/* binding */ validateMediaFile),\n/* harmony export */   validateVideoFile: () => (/* binding */ validateVideoFile)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Поддерживаемые форматы\nconst SUPPORTED_IMAGE_FORMATS = [\n    \"jpg\",\n    \"jpeg\",\n    \"png\",\n    \"webp\"\n];\nconst SUPPORTED_VIDEO_FORMATS = [\n    \"mp4\",\n    \"webm\",\n    \"avi\",\n    \"mov\"\n];\nconst SUPPORTED_DOCUMENT_FORMATS = [\n    \"pdf\",\n    \"doc\",\n    \"docx\"\n];\n// Валидация медиа файлов\nfunction validateMediaFile(filename, allowedFormats) {\n    const extension = path__WEBPACK_IMPORTED_MODULE_1___default().extname(filename).toLowerCase().slice(1);\n    return allowedFormats.includes(extension);\n}\nfunction validateImageFile(filename) {\n    return validateMediaFile(filename, SUPPORTED_IMAGE_FORMATS);\n}\nfunction validateVideoFile(filename) {\n    return validateMediaFile(filename, SUPPORTED_VIDEO_FORMATS);\n}\nfunction validateDocumentFile(filename) {\n    return validateMediaFile(filename, SUPPORTED_DOCUMENT_FORMATS);\n}\n// Получение информации о файле\nfunction getFileInfo(filePath) {\n    try {\n        const stats = fs__WEBPACK_IMPORTED_MODULE_0___default().statSync(filePath);\n        const name = path__WEBPACK_IMPORTED_MODULE_1___default().basename(filePath);\n        const extension = path__WEBPACK_IMPORTED_MODULE_1___default().extname(filePath).toLowerCase().slice(1);\n        return {\n            name,\n            path: filePath,\n            size: stats.size,\n            type: getMimeType(extension),\n            lastModified: stats.mtime\n        };\n    } catch (error) {\n        console.error(\"Error getting file info:\", error);\n        return null;\n    }\n}\n// Получение MIME типа\nfunction getMimeType(extension) {\n    const mimeTypes = {\n        // Изображения\n        \"jpg\": \"image/jpeg\",\n        \"jpeg\": \"image/jpeg\",\n        \"png\": \"image/png\",\n        \"webp\": \"image/webp\",\n        // Видео\n        \"mp4\": \"video/mp4\",\n        \"webm\": \"video/webm\",\n        \"avi\": \"video/x-msvideo\",\n        \"mov\": \"video/quicktime\",\n        // Документы\n        \"pdf\": \"application/pdf\",\n        \"doc\": \"application/msword\",\n        \"docx\": \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n    };\n    return mimeTypes[extension] || \"application/octet-stream\";\n}\n// Получение списка изображений\nfunction getImageFiles(directory = \"public/images\") {\n    try {\n        const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(directory);\n        const imageFiles = [];\n        for (const file of files){\n            if (validateImageFile(file)) {\n                const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(directory, file);\n                const fileInfo = getFileInfo(filePath);\n                if (fileInfo) {\n                    const extension = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file).toLowerCase().slice(1);\n                    imageFiles.push({\n                        ...fileInfo,\n                        format: extension\n                    });\n                }\n            }\n        }\n        return imageFiles.sort((a, b)=>(b.lastModified?.getTime() || 0) - (a.lastModified?.getTime() || 0));\n    } catch (error) {\n        console.error(\"Error reading image files:\", error);\n        return [];\n    }\n}\n// Получение списка видео файлов\nfunction getVideoFiles(directory = \"public/videos\") {\n    try {\n        const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(directory);\n        const videoFiles = [];\n        for (const file of files){\n            if (validateVideoFile(file)) {\n                const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(directory, file);\n                const fileInfo = getFileInfo(filePath);\n                if (fileInfo) {\n                    const extension = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file).toLowerCase().slice(1);\n                    videoFiles.push({\n                        ...fileInfo,\n                        format: extension\n                    });\n                }\n            }\n        }\n        return videoFiles.sort((a, b)=>(b.lastModified?.getTime() || 0) - (a.lastModified?.getTime() || 0));\n    } catch (error) {\n        console.error(\"Error reading video files:\", error);\n        return [];\n    }\n}\n// Получение списка документов\nfunction getDocumentFiles(directory = \"public/documents\") {\n    try {\n        const files = fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(directory);\n        const documentFiles = [];\n        for (const file of files){\n            if (validateDocumentFile(file)) {\n                const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(directory, file);\n                const fileInfo = getFileInfo(filePath);\n                if (fileInfo) {\n                    const extension = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file).toLowerCase().slice(1);\n                    documentFiles.push({\n                        ...fileInfo,\n                        format: extension\n                    });\n                }\n            }\n        }\n        return documentFiles.sort((a, b)=>(b.lastModified?.getTime() || 0) - (a.lastModified?.getTime() || 0));\n    } catch (error) {\n        console.error(\"Error reading document files:\", error);\n        return [];\n    }\n}\n// Форматирование размера файла\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\n        \"Bytes\",\n        \"KB\",\n        \"MB\",\n        \"GB\"\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\n// Получение относительного пути для веб-доступа\nfunction getWebPath(filePath) {\n    // Убираем 'public' из пути для веб-доступа\n    return filePath.replace(/^public/, \"\");\n}\n// Проверка существования файла\nfunction fileExists(filePath) {\n    try {\n        return fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath);\n    } catch (error) {\n        return false;\n    }\n}\n// Создание директории если не существует\nfunction ensureDirectoryExists(dirPath) {\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dirPath)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dirPath, {\n            recursive: true\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNDLEdBQUdDLElBQzVCLENBQUNBLEVBQUVqQixZQUFZLEVBQUVrQixhQUFhLEtBQU1GLENBQUFBLEVBQUVoQixZQUFZLEVBQUVrQixhQUFhO0lBRXJFLEVBQUUsT0FBT2hCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsT0FBTyxFQUFFO0lBQ1g7QUFDRjtBQUVBLCtCQUErQjtBQUN4QixTQUFTcUIsZUFBZUMsS0FBYTtJQUMxQyxJQUFJQSxVQUFVLEdBQUcsT0FBTztJQUV4QixNQUFNQyxJQUFJO0lBQ1YsTUFBTUMsUUFBUTtRQUFDO1FBQVM7UUFBTTtRQUFNO0tBQUs7SUFDekMsTUFBTUMsSUFBSUMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxHQUFHLENBQUNOLFNBQVNJLEtBQUtFLEdBQUcsQ0FBQ0w7SUFFaEQsT0FBT00sV0FBVyxDQUFDUCxRQUFRSSxLQUFLSSxHQUFHLENBQUNQLEdBQUdFLEVBQUMsRUFBR00sT0FBTyxDQUFDLE1BQU0sTUFBTVAsS0FBSyxDQUFDQyxFQUFFO0FBQ3pFO0FBRUEsZ0RBQWdEO0FBQ3pDLFNBQVNPLFdBQVcxQyxRQUFnQjtJQUN6QywyQ0FBMkM7SUFDM0MsT0FBT0EsU0FBUzJDLE9BQU8sQ0FBQyxXQUFXO0FBQ3JDO0FBRUEsK0JBQStCO0FBQ3hCLFNBQVNDLFdBQVc1QyxRQUFnQjtJQUN6QyxJQUFJO1FBQ0YsT0FBT2pCLG9EQUFhLENBQUNpQjtJQUN2QixFQUFFLE9BQU9VLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLHlDQUF5QztBQUNsQyxTQUFTb0Msc0JBQXNCQyxPQUFlO0lBQ25ELElBQUksQ0FBQ2hFLG9EQUFhLENBQUNnRSxVQUFVO1FBQzNCaEUsbURBQVksQ0FBQ2dFLFNBQVM7WUFBRUUsV0FBVztRQUFLO0lBQzFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZWNocHJvZWt0LXNpdGUvLi9saWIvbWVkaWEudHM/ZWVjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG4vLyDQotC40L/RiyDQtNC70Y8g0LzQtdC00LjQsCDRhNCw0LnQu9C+0LJcbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFGaWxlIHtcbiAgbmFtZTogc3RyaW5nXG4gIHBhdGg6IHN0cmluZ1xuICBzaXplPzogbnVtYmVyXG4gIHR5cGU6IHN0cmluZ1xuICBsYXN0TW9kaWZpZWQ/OiBEYXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VGaWxlIGV4dGVuZHMgTWVkaWFGaWxlIHtcbiAgd2lkdGg/OiBudW1iZXJcbiAgaGVpZ2h0PzogbnVtYmVyXG4gIGZvcm1hdDogJ2pwZycgfCAnanBlZycgfCAncG5nJyB8ICd3ZWJwJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvRmlsZSBleHRlbmRzIE1lZGlhRmlsZSB7XG4gIGR1cmF0aW9uPzogbnVtYmVyXG4gIHdpZHRoPzogbnVtYmVyXG4gIGhlaWdodD86IG51bWJlclxuICBmb3JtYXQ6ICdtcDQnIHwgJ3dlYm0nIHwgJ2F2aSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudEZpbGUgZXh0ZW5kcyBNZWRpYUZpbGUge1xuICBwYWdlcz86IG51bWJlclxuICBmb3JtYXQ6ICdwZGYnIHwgJ2RvYycgfCAnZG9jeCdcbn1cblxuLy8g0J/QvtC00LTQtdGA0LbQuNCy0LDQtdC80YvQtSDRhNC+0YDQvNCw0YLRi1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9JTUFHRV9GT1JNQVRTID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnd2VicCddXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1ZJREVPX0ZPUk1BVFMgPSBbJ21wNCcsICd3ZWJtJywgJ2F2aScsICdtb3YnXVxuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9ET0NVTUVOVF9GT1JNQVRTID0gWydwZGYnLCAnZG9jJywgJ2RvY3gnXVxuXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0LzQtdC00LjQsCDRhNCw0LnQu9C+0LJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU1lZGlhRmlsZShmaWxlbmFtZTogc3RyaW5nLCBhbGxvd2VkRm9ybWF0czogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgY29uc3QgZXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGVuYW1lKS50b0xvd2VyQ2FzZSgpLnNsaWNlKDEpXG4gIHJldHVybiBhbGxvd2VkRm9ybWF0cy5pbmNsdWRlcyhleHRlbnNpb24pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUltYWdlRmlsZShmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWxpZGF0ZU1lZGlhRmlsZShmaWxlbmFtZSwgU1VQUE9SVEVEX0lNQUdFX0ZPUk1BVFMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVZpZGVvRmlsZShmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWxpZGF0ZU1lZGlhRmlsZShmaWxlbmFtZSwgU1VQUE9SVEVEX1ZJREVPX0ZPUk1BVFMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZURvY3VtZW50RmlsZShmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWxpZGF0ZU1lZGlhRmlsZShmaWxlbmFtZSwgU1VQUE9SVEVEX0RPQ1VNRU5UX0ZPUk1BVFMpXG59XG5cbi8vINCf0L7Qu9GD0YfQtdC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRhNCw0LnQu9C1XG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUluZm8oZmlsZVBhdGg6IHN0cmluZyk6IE1lZGlhRmlsZSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IHN0YXRzID0gZnMuc3RhdFN5bmMoZmlsZVBhdGgpXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZVBhdGgpXG4gICAgY29uc3QgZXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGVQYXRoKS50b0xvd2VyQ2FzZSgpLnNsaWNlKDEpXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWUsXG4gICAgICBwYXRoOiBmaWxlUGF0aCxcbiAgICAgIHNpemU6IHN0YXRzLnNpemUsXG4gICAgICB0eXBlOiBnZXRNaW1lVHlwZShleHRlbnNpb24pLFxuICAgICAgbGFzdE1vZGlmaWVkOiBzdGF0cy5tdGltZVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGZpbGUgaW5mbzonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vINCf0L7Qu9GD0YfQtdC90LjQtSBNSU1FINGC0LjQv9CwXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWltZVR5cGUoZXh0ZW5zaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtaW1lVHlwZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgLy8g0JjQt9C+0LHRgNCw0LbQtdC90LjRj1xuICAgICdqcGcnOiAnaW1hZ2UvanBlZycsXG4gICAgJ2pwZWcnOiAnaW1hZ2UvanBlZycsXG4gICAgJ3BuZyc6ICdpbWFnZS9wbmcnLFxuICAgICd3ZWJwJzogJ2ltYWdlL3dlYnAnLFxuICAgIFxuICAgIC8vINCS0LjQtNC10L5cbiAgICAnbXA0JzogJ3ZpZGVvL21wNCcsXG4gICAgJ3dlYm0nOiAndmlkZW8vd2VibScsXG4gICAgJ2F2aSc6ICd2aWRlby94LW1zdmlkZW8nLFxuICAgICdtb3YnOiAndmlkZW8vcXVpY2t0aW1lJyxcbiAgICBcbiAgICAvLyDQlNC+0LrRg9C80LXQvdGC0YtcbiAgICAncGRmJzogJ2FwcGxpY2F0aW9uL3BkZicsXG4gICAgJ2RvYyc6ICdhcHBsaWNhdGlvbi9tc3dvcmQnLFxuICAgICdkb2N4JzogJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50J1xuICB9XG4gIFxuICByZXR1cm4gbWltZVR5cGVzW2V4dGVuc2lvbl0gfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSdcbn1cblxuLy8g0J/QvtC70YPRh9C10L3QuNC1INGB0L/QuNGB0LrQsCDQuNC30L7QsdGA0LDQttC10L3QuNC5XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VGaWxlcyhkaXJlY3Rvcnk6IHN0cmluZyA9ICdwdWJsaWMvaW1hZ2VzJyk6IEltYWdlRmlsZVtdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKGRpcmVjdG9yeSlcbiAgICBjb25zdCBpbWFnZUZpbGVzOiBJbWFnZUZpbGVbXSA9IFtdXG4gICAgXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBpZiAodmFsaWRhdGVJbWFnZUZpbGUoZmlsZSkpIHtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKVxuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGdldEZpbGVJbmZvKGZpbGVQYXRoKVxuICAgICAgICBcbiAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGUpLnRvTG93ZXJDYXNlKCkuc2xpY2UoMSkgYXMgSW1hZ2VGaWxlWydmb3JtYXQnXVxuICAgICAgICAgIGltYWdlRmlsZXMucHVzaCh7XG4gICAgICAgICAgICAuLi5maWxlSW5mbyxcbiAgICAgICAgICAgIGZvcm1hdDogZXh0ZW5zaW9uXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gaW1hZ2VGaWxlcy5zb3J0KChhLCBiKSA9PiBcbiAgICAgIChiLmxhc3RNb2RpZmllZD8uZ2V0VGltZSgpIHx8IDApIC0gKGEubGFzdE1vZGlmaWVkPy5nZXRUaW1lKCkgfHwgMClcbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBpbWFnZSBmaWxlczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyDQn9C+0LvRg9GH0LXQvdC40LUg0YHQv9C40YHQutCwINCy0LjQtNC10L4g0YTQsNC50LvQvtCyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9GaWxlcyhkaXJlY3Rvcnk6IHN0cmluZyA9ICdwdWJsaWMvdmlkZW9zJyk6IFZpZGVvRmlsZVtdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKGRpcmVjdG9yeSlcbiAgICBjb25zdCB2aWRlb0ZpbGVzOiBWaWRlb0ZpbGVbXSA9IFtdXG4gICAgXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBpZiAodmFsaWRhdGVWaWRlb0ZpbGUoZmlsZSkpIHtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKVxuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGdldEZpbGVJbmZvKGZpbGVQYXRoKVxuICAgICAgICBcbiAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGUpLnRvTG93ZXJDYXNlKCkuc2xpY2UoMSkgYXMgVmlkZW9GaWxlWydmb3JtYXQnXVxuICAgICAgICAgIHZpZGVvRmlsZXMucHVzaCh7XG4gICAgICAgICAgICAuLi5maWxlSW5mbyxcbiAgICAgICAgICAgIGZvcm1hdDogZXh0ZW5zaW9uXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdmlkZW9GaWxlcy5zb3J0KChhLCBiKSA9PiBcbiAgICAgIChiLmxhc3RNb2RpZmllZD8uZ2V0VGltZSgpIHx8IDApIC0gKGEubGFzdE1vZGlmaWVkPy5nZXRUaW1lKCkgfHwgMClcbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyB2aWRlbyBmaWxlczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyDQn9C+0LvRg9GH0LXQvdC40LUg0YHQv9C40YHQutCwINC00L7QutGD0LzQtdC90YLQvtCyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRGaWxlcyhkaXJlY3Rvcnk6IHN0cmluZyA9ICdwdWJsaWMvZG9jdW1lbnRzJyk6IERvY3VtZW50RmlsZVtdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKGRpcmVjdG9yeSlcbiAgICBjb25zdCBkb2N1bWVudEZpbGVzOiBEb2N1bWVudEZpbGVbXSA9IFtdXG4gICAgXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBpZiAodmFsaWRhdGVEb2N1bWVudEZpbGUoZmlsZSkpIHtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKVxuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGdldEZpbGVJbmZvKGZpbGVQYXRoKVxuICAgICAgICBcbiAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gcGF0aC5leHRuYW1lKGZpbGUpLnRvTG93ZXJDYXNlKCkuc2xpY2UoMSkgYXMgRG9jdW1lbnRGaWxlWydmb3JtYXQnXVxuICAgICAgICAgIGRvY3VtZW50RmlsZXMucHVzaCh7XG4gICAgICAgICAgICAuLi5maWxlSW5mbyxcbiAgICAgICAgICAgIGZvcm1hdDogZXh0ZW5zaW9uXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZG9jdW1lbnRGaWxlcy5zb3J0KChhLCBiKSA9PiBcbiAgICAgIChiLmxhc3RNb2RpZmllZD8uZ2V0VGltZSgpIHx8IDApIC0gKGEubGFzdE1vZGlmaWVkPy5nZXRUaW1lKCkgfHwgMClcbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBkb2N1bWVudCBmaWxlczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyDQpNC+0YDQvNCw0YLQuNGA0L7QstCw0L3QuNC1INGA0LDQt9C80LXRgNCwINGE0LDQudC70LBcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGaWxlU2l6ZShieXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGJ5dGVzID09PSAwKSByZXR1cm4gJzAgQnl0ZXMnXG4gIFxuICBjb25zdCBrID0gMTAyNFxuICBjb25zdCBzaXplcyA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InXVxuICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSlcbiAgXG4gIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldXG59XG5cbi8vINCf0L7Qu9GD0YfQtdC90LjQtSDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L7Qs9C+INC/0YPRgtC4INC00LvRjyDQstC10LEt0LTQvtGB0YLRg9C/0LBcbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWJQYXRoKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyDQo9Cx0LjRgNCw0LXQvCAncHVibGljJyDQuNC3INC/0YPRgtC4INC00LvRjyDQstC10LEt0LTQvtGB0YLRg9C/0LBcbiAgcmV0dXJuIGZpbGVQYXRoLnJlcGxhY2UoL15wdWJsaWMvLCAnJylcbn1cblxuLy8g0J/RgNC+0LLQtdGA0LrQsCDRgdGD0YnQtdGB0YLQstC+0LLQsNC90LjRjyDRhNCw0LnQu9CwXG5leHBvcnQgZnVuY3Rpb24gZmlsZUV4aXN0cyhmaWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLy8g0KHQvtC30LTQsNC90LjQtSDQtNC40YDQtdC60YLQvtGA0LjQuCDQtdGB0LvQuCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGRpclBhdGg6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIWZzLmV4aXN0c1N5bmMoZGlyUGF0aCkpIHtcbiAgICBmcy5ta2RpclN5bmMoZGlyUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgfVxufSAiXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiU1VQUE9SVEVEX0lNQUdFX0ZPUk1BVFMiLCJTVVBQT1JURURfVklERU9fRk9STUFUUyIsIlNVUFBPUlRFRF9ET0NVTUVOVF9GT1JNQVRTIiwidmFsaWRhdGVNZWRpYUZpbGUiLCJmaWxlbmFtZSIsImFsbG93ZWRGb3JtYXRzIiwiZXh0ZW5zaW9uIiwiZXh0bmFtZSIsInRvTG93ZXJDYXNlIiwic2xpY2UiLCJpbmNsdWRlcyIsInZhbGlkYXRlSW1hZ2VGaWxlIiwidmFsaWRhdGVWaWRlb0ZpbGUiLCJ2YWxpZGF0ZURvY3VtZW50RmlsZSIsImdldEZpbGVJbmZvIiwiZmlsZVBhdGgiLCJzdGF0cyIsInN0YXRTeW5jIiwibmFtZSIsImJhc2VuYW1lIiwic2l6ZSIsInR5cGUiLCJnZXRNaW1lVHlwZSIsImxhc3RNb2RpZmllZCIsIm10aW1lIiwiZXJyb3IiLCJjb25zb2xlIiwibWltZVR5cGVzIiwiZ2V0SW1hZ2VGaWxlcyIsImRpcmVjdG9yeSIsImZpbGVzIiwicmVhZGRpclN5bmMiLCJpbWFnZUZpbGVzIiwiZmlsZSIsImpvaW4iLCJmaWxlSW5mbyIsInB1c2giLCJmb3JtYXQiLCJzb3J0IiwiYSIsImIiLCJnZXRUaW1lIiwiZ2V0VmlkZW9GaWxlcyIsInZpZGVvRmlsZXMiLCJnZXREb2N1bWVudEZpbGVzIiwiZG9jdW1lbnRGaWxlcyIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJpIiwiTWF0aCIsImZsb29yIiwibG9nIiwicGFyc2VGbG9hdCIsInBvdyIsInRvRml4ZWQiLCJnZXRXZWJQYXRoIiwicmVwbGFjZSIsImZpbGVFeGlzdHMiLCJleGlzdHNTeW5jIiwiZW5zdXJlRGlyZWN0b3J5RXhpc3RzIiwiZGlyUGF0aCIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/media.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmedia%2Fimages%2Froute&page=%2Fapi%2Fmedia%2Fimages%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmedia%2Fimages%2Froute.ts&appDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxxx%2FDocuments%2F%D0%95%D1%83%D1%81%D1%80-proekt2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();